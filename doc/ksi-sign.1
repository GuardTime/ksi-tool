.TH KSI-SIGN 1
.\"
.\"
.\"
.SH NAME
\fBksi sign \fR- Guardtime command-line tool for creating KSI Signatures.
.\"
.\"
.SH SYNOPSIS
.\"
\fBksi sign -i \fIinput \fB-o \fIout.ksig \fB-S \fIurl \fR[\fB--aggr-user \fIuser \fB--aggr-key \fIkey\fR] \fR[\fB-H \fIalg\fR] [\fB-D \fIfile\fR] [\fImore options\fR]
.br
.\"
.\"
.SH DESCRIPTION
.\"
This is a general signing tool for Guardtime Keyless Signature services.
.\"
.\"
.SH OPTIONS
.\"
.TP
\fB-i \fIdata\fR
File or data hash to be signed. Hash format: <\fIalg\fR>:<\fIhash in hex\fR>.
.\"
.TP
\fB-o \fIfile\fR
Output file name to store signature token.
.\"
.TP
\fB-H \fIalg\fR
Use a specific hash algorithm to hash the file to be signed.
.\"
.TP
\fB-S \fIurl\fR
Specify signing service URL.
.\"
.TP
\fB--aggr-user \fIstr\fR
User name for signing service.
.\"
.TP
\fB--aggr-key \fIstr\fR
HMAC Key for signing service.
.\"
.TP
\fB-D\fR | \fB--data-out \fIfile\fR
Save signed data to file. Use when signing a stream.
.\"
.TP
\fB-d\fR
Use to dump signatures data and get more precise info about the warnings.
.\"
.TP
\fB--conf \fIfile\fR
Specify a configurations file to override default service information. It must be noted that service info from command-line will override the configurations file. See \fBksi\fR(1) and \fBksi-conf\fR(5) for more information.
.\"
.TP
\fB--log \fIfile\fR
Write libksi log into file.
.br
.\"
.\"
.\"
.SH EXIT STATUS
See \fBksi\fR(1) for more information.
.\"
.\"
.\"
.SH EXAMPLES
.\"
In the following examples it is assumed that default service urls are defined (see \fBksi\fR(1) \fRfor more information).

\fB1\fR To sign a file \fIfile\fR and save signature to \fIsig.ksig\fR call:
.RS
\fBksi sign -i \fIfile\fR \fB-o \fIsig.ksig\fR
.RE

\fB2\fR To sign a data hash (hashed with SHA256) and save the resulting signature to file \fIsig.ksig\fR call:
.RS
\fBksi sign -i\fI SHA-256:c8ef6d57ac28d1b4e95a513959f5fcdd0688380a43d601a5ace1d2e96884690a\fR -o \fIsig.ksig\fB
.RE

\fB3\fR To sign a data file \fIfile\fR with non-default algorithm \fI SHA1\fR call:
.RS
\fBksi sign -i \fIfile\fB -H\fI SHA1\fB -o\fI sig.ksig\fR 
.RE

\fB4\fR To sign a stream (stdin), save data from stream to \fIfile\fR and save signature to \fIsig.ksig\fR call:
.RS
\fBksi -s -f - -D \fIfile\fB -o \fIsig.ksig\fR
.RE
.\"
.\"
.\"
.SH ENVIRONMENT
Environment variable \fBKSI_CONF \fR can be defined to set default KSI configurations file. See \fBksi\fR(1) and \fBksi-conf\fR(5) for more information.

.SH AUTHOR

Guardtime AS, http://www.guardtime.com/

.SH SEE ALSO	
\fBksi\fR(1), \fBksi-verify\fR(1), \fBksi-extend\fR(1), \fBksi-pubfile\fR(1), \fBksi-conf\fR(5) 